"use strict";exports.id=904,exports.ids=[904],exports.modules={24861:(e,t,a)=>{a.d(t,{x:()=>u});var s=a(10326),r=a(30660),i=a(62722),d=a(22539),l=a(3493),n=a(29381),c=a(32086),o=a(29752);function u({policy:e,className:t}){let a=[{subject:"技術的実現性",score:e.detailedEvaluation.technical.score,fullMark:100},{subject:"政治的実現性",score:e.detailedEvaluation.political.score,fullMark:100},{subject:"財政的実現性",score:e.detailedEvaluation.financial.score,fullMark:100},{subject:"時間軸実現性",score:e.detailedEvaluation.timeline.score,fullMark:100}];return(0,s.jsxs)(o.Zb,{className:t,children:[s.jsx(o.Ol,{children:s.jsx(o.ll,{className:"text-center text-lg",children:"4次元評価レーダーチャート"})}),(0,s.jsxs)(o.aY,{children:[s.jsx(r.h,{width:"100%",height:300,children:(0,s.jsxs)(i.H,{data:a,children:[s.jsx(d.n,{gridType:"polygon"}),s.jsx(l.I,{dataKey:"subject",tick:{fontSize:12},className:"text-xs"}),s.jsx(n.S,{angle:90,domain:[0,100],tick:{fontSize:10},tickCount:6}),s.jsx(c.F,{name:"実現可能性",dataKey:"score",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4}})]})}),(0,s.jsxs)("div",{className:"text-center mt-4",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[e.feasibilityScore,"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"総合実現可能性スコア"})]})]})]})}},16411:(e,t,a)=>{a.d(t,{$:()=>i});var s=a(10326),r=a(51223);function i({score:e,size:t="md",showLabel:a=!1,className:i}){let d=e=>e>=80?"text-green-600 border-green-600 bg-green-50":e>=60?"text-yellow-600 border-yellow-600 bg-yellow-50":e>=40?"text-orange-600 border-orange-600 bg-orange-50":"text-red-600 border-red-600 bg-red-50";return(0,s.jsxs)("div",{className:(0,r.cn)("flex items-center gap-2",i),children:[(0,s.jsxs)("div",{className:(0,r.cn)("rounded-full border-2 flex items-center justify-center font-bold",{sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"}[t],d(e)),children:[e,"%"]}),a&&s.jsx("span",{className:(0,r.cn)("font-medium",d(e).split(" ")[0]),children:e>=80?"高実現性":e>=60?"中実現性":e>=40?"低実現性":"実現困難"})]})}},33826:(e,t,a)=>{a.d(t,{PolicyComparisonChart:()=>m});var s=a(10326),r=a(30660),i=a(49844),d=a(18423),l=a(62637),n=a(9997),c=a(44675),o=a(8564),u=a(99630),f=a(29752),x=a(38443);function m({policies:e,title:t="政策実現可能性比較",className:a}){let m=e.map(e=>({name:e.title.length>15?e.title.substring(0,15)+"...":e.title,fullName:e.title,score:e.feasibilityScore,category:e.category,impact:e.impact})),g=e=>e>=80?"#22c55e":e>=60?"#eab308":e>=40?"#f97316":"#ef4444";return(0,s.jsxs)(f.Zb,{className:a,children:[s.jsx(f.Ol,{children:s.jsx(f.ll,{className:"text-lg",children:t})}),(0,s.jsxs)(f.aY,{children:[s.jsx(r.h,{width:"100%",height:400,children:(0,s.jsxs)(i.v,{data:m,margin:{top:20,right:30,left:20,bottom:5},children:[s.jsx(d.q,{strokeDasharray:"3 3",opacity:.3}),s.jsx(l.K,{dataKey:"name",tick:{fontSize:12},interval:0,angle:-45,textAnchor:"end",height:100}),s.jsx(n.B,{domain:[0,100],tick:{fontSize:12},label:{value:"実現可能性 (%)",angle:-90,position:"insideLeft"}}),s.jsx(c.u,{content:s.jsx(({active:e,payload:t,label:a})=>{if(e&&t&&t.length){let e=t[0].payload;return(0,s.jsxs)("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:e.fullName}),(0,s.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("span",{children:"実現可能性:"}),(0,s.jsxs)("span",{className:"font-bold",children:[e.score,"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("span",{children:"カテゴリ:"}),s.jsx(x.C,{variant:"outline",children:e.category})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[s.jsx("span",{children:"影響度:"}),s.jsx(x.C,{variant:"high"===e.impact?"default":"secondary",children:"high"===e.impact?"高":"medium"===e.impact?"中":"低"})]})]})]})}return null},{})}),s.jsx(o.$,{dataKey:"score",radius:[4,4,0,0],children:m.map((e,t)=>s.jsx(u.b,{fill:g(e.score)},`cell-${t}`))})]})}),(0,s.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-primary",children:[Math.round(m.reduce((e,t)=>e+t.score,0)/m.length),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"平均スコア"})]}),(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[Math.max(...m.map(e=>e.score)),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"最高スコア"})]}),(0,s.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,s.jsxs)("div",{className:"text-lg font-bold text-red-600",children:[Math.min(...m.map(e=>e.score)),"%"]}),s.jsx("div",{className:"text-xs text-muted-foreground",children:"最低スコア"})]})]})]})]})}},33261:(e,t,a)=>{a.d(t,{X:()=>c,bZ:()=>n});var s=a(10326),r=a(17577),i=a(79360),d=a(51223);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=r.forwardRef(({className:e,variant:t,...a},r)=>s.jsx("div",{ref:r,role:"alert",className:(0,d.cn)(l({variant:t}),e),...a}));n.displayName="Alert",r.forwardRef(({className:e,...t},a)=>s.jsx("h5",{ref:a,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",e),...t})).displayName="AlertTitle";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"},38443:(e,t,a)=>{a.d(t,{C:()=>l});var s=a(10326);a(17577);var r=a(79360),i=a(51223);let d=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l({className:e,variant:t,...a}){return s.jsx("div",{className:(0,i.cn)(d({variant:t}),e),...a})}},29752:(e,t,a)=>{a.d(t,{Ol:()=>l,Zb:()=>d,aY:()=>c,ll:()=>n});var s=a(10326),r=a(17577),i=a(51223);let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));d.displayName="Card";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let n=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));n.displayName="CardTitle",r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent",r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter"},50384:(e,t,a)=>{a.d(t,{SP:()=>c,dr:()=>n,mQ:()=>l,nU:()=>o});var s=a(10326),r=a(17577),i=a(28407),d=a(51223);let l=i.fC,n=r.forwardRef(({className:e,...t},a)=>s.jsx(i.aV,{ref:a,className:(0,d.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));n.displayName=i.aV.displayName;let c=r.forwardRef(({className:e,...t},a)=>s.jsx(i.xz,{ref:a,className:(0,d.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=i.xz.displayName;let o=r.forwardRef(({className:e,...t},a)=>s.jsx(i.VY,{ref:a,className:(0,d.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));o.displayName=i.VY.displayName},21419:(e,t,a)=>{a.d(t,{Fw:()=>i,Gb:()=>c,Ir:()=>l,RF:()=>d,xG:()=>n});var s=a(76),r=a(76025);let i=async e=>{let t=(0,s.IO)((0,s.hJ)(r.db,"candidates"),(0,s.Xo)("updatedAt","desc")),a=[(0,s.Xo)("updatedAt","desc")];e?.prefecture&&a.push((0,s.ar)("prefecture","==",e.prefecture)),e?.electionType&&a.push((0,s.ar)("electionType","==",e.electionType)),e?.party&&e.party.length>0&&a.push((0,s.ar)("party","in",e.party)),e?.status&&e.status.length>0&&a.push((0,s.ar)("status","in",e.status)),t=(0,s.IO)((0,s.hJ)(r.db,"candidates"),...a);let i=await (0,s.PL)(t),d=[];for(let e of i.docs){let t={id:e.id,...e.data()},a=(0,s.IO)((0,s.hJ)(r.db,"candidates",e.id,"policies"),(0,s.Xo)("analyzedAt","desc")),i=(await (0,s.PL)(a)).docs.map(e=>({id:e.id,...e.data()}));t.policies=i,d.push(t)}return d},d=async e=>{let t=await (0,s.QT)((0,s.JU)(r.db,"candidates",e));if(!t.exists())return null;let a={id:t.id,...t.data()},i=(0,s.IO)((0,s.hJ)(r.db,"candidates",e,"policies"),(0,s.Xo)("analyzedAt","desc")),d=(await (0,s.PL)(i)).docs.map(e=>({id:e.id,...e.data()}));return a.policies=d,a},l=async e=>(await (0,s.ET)((0,s.hJ)(r.db,"comments"),{...e,likes:0,likedBy:[],status:"active",createdAt:(0,s.Bt)()})).id,n=async(e,t)=>{let a=(0,s.JU)(r.db,"comments",e),i=await (0,s.QT)(a);if(i.exists()){let e=i.data(),r=e.likedBy||[];r.includes(t)||await (0,s.r7)(a,{likes:(e.likes||0)+1,likedBy:[...r,t]})}},c=async(e,t)=>{let a=(0,s.JU)(r.db,"comments",e),i=await (0,s.QT)(a);if(i.exists()){let e=i.data(),r=e.likedBy||[];r.includes(t)&&await (0,s.r7)(a,{likes:Math.max((e.likes||0)-1,0),likedBy:r.filter(e=>e!==t)})}}},64229:(e,t,a)=>{a.d(t,{Vy:()=>i,vG:()=>d});var s=a(45671),r=a(21419);function i(e){let t=e&&"enabled"in e?e.filters:e,a=!e||!("enabled"in e)||e.enabled;return(0,s.a)({queryKey:["candidates",t],queryFn:()=>(0,r.Fw)(t),enabled:a,staleTime:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function d(e){return(0,s.a)({queryKey:["candidate",e],queryFn:()=>(0,r.RF)(e),enabled:!!e,staleTime:3e5,retry:3})}}};