"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[726],{45446:function(e,t,r){r.d(t,{x:function(){return u}});var n=r(57437),a=r(47625),i=r(76535),s=r(39366),l=r(93019),d=r(8646),c=r(90597),o=r(79820);function u(e){let{policy:t,className:r}=e,u=[{subject:"技術的実現性",score:t.detailedEvaluation.technical.score,fullMark:100},{subject:"政治的実現性",score:t.detailedEvaluation.political.score,fullMark:100},{subject:"財政的実現性",score:t.detailedEvaluation.financial.score,fullMark:100},{subject:"時間軸実現性",score:t.detailedEvaluation.timeline.score,fullMark:100}];return(0,n.jsxs)(o.Zb,{className:r,children:[(0,n.jsx)(o.Ol,{children:(0,n.jsx)(o.ll,{className:"text-center text-lg",children:"4次元評価レーダーチャート"})}),(0,n.jsxs)(o.aY,{children:[(0,n.jsx)(a.h,{width:"100%",height:300,children:(0,n.jsxs)(i.H,{data:u,children:[(0,n.jsx)(s.n,{gridType:"polygon"}),(0,n.jsx)(l.I,{dataKey:"subject",tick:{fontSize:12},className:"text-xs"}),(0,n.jsx)(d.S,{angle:90,domain:[0,100],tick:{fontSize:10},tickCount:6}),(0,n.jsx)(c.F,{name:"実現可能性",dataKey:"score",stroke:"hsl(var(--primary))",fill:"hsl(var(--primary))",fillOpacity:.3,strokeWidth:2,dot:{fill:"hsl(var(--primary))",strokeWidth:2,r:4}})]})}),(0,n.jsxs)("div",{className:"text-center mt-4",children:[(0,n.jsxs)("div",{className:"text-2xl font-bold text-primary",children:[t.feasibilityScore,"%"]}),(0,n.jsx)("div",{className:"text-sm text-muted-foreground",children:"総合実現可能性スコア"})]})]})]})}},79270:function(e,t,r){r.d(t,{$:function(){return i}});var n=r(57437),a=r(93448);function i(e){let{score:t,size:r="md",showLabel:i=!1,className:s}=e,l=e=>e>=80?"text-green-600 border-green-600 bg-green-50":e>=60?"text-yellow-600 border-yellow-600 bg-yellow-50":e>=40?"text-orange-600 border-orange-600 bg-orange-50":"text-red-600 border-red-600 bg-red-50";return(0,n.jsxs)("div",{className:(0,a.cn)("flex items-center gap-2",s),children:[(0,n.jsxs)("div",{className:(0,a.cn)("rounded-full border-2 flex items-center justify-center font-bold",{sm:"h-8 w-8 text-xs",md:"h-12 w-12 text-sm",lg:"h-16 w-16 text-base"}[r],l(t)),children:[t,"%"]}),i&&(0,n.jsx)("span",{className:(0,a.cn)("font-medium",l(t).split(" ")[0]),children:t>=80?"高実現性":t>=60?"中実現性":t>=40?"低実現性":"実現困難"})]})}},97398:function(e,t,r){r.d(t,{PolicyComparisonChart:function(){return x}});var n=r(57437),a=r(47625),i=r(77031),s=r(56940),l=r(97059),d=r(62994),c=r(8147),o=r(31699),u=r(20407),f=r(79820),m=r(69174);function x(e){let{policies:t,title:r="政策実現可能性比較",className:x}=e,p=t.map(e=>({name:e.title.length>15?e.title.substring(0,15)+"...":e.title,fullName:e.title,score:e.feasibilityScore,category:e.category,impact:e.impact})),g=e=>e>=80?"#22c55e":e>=60?"#eab308":e>=40?"#f97316":"#ef4444";return(0,n.jsxs)(f.Zb,{className:x,children:[(0,n.jsx)(f.Ol,{children:(0,n.jsx)(f.ll,{className:"text-lg",children:r})}),(0,n.jsxs)(f.aY,{children:[(0,n.jsx)(a.h,{width:"100%",height:400,children:(0,n.jsxs)(i.v,{data:p,margin:{top:20,right:30,left:20,bottom:5},children:[(0,n.jsx)(s.q,{strokeDasharray:"3 3",opacity:.3}),(0,n.jsx)(l.K,{dataKey:"name",tick:{fontSize:12},interval:0,angle:-45,textAnchor:"end",height:100}),(0,n.jsx)(d.B,{domain:[0,100],tick:{fontSize:12},label:{value:"実現可能性 (%)",angle:-90,position:"insideLeft"}}),(0,n.jsx)(c.u,{content:(0,n.jsx)(e=>{let{active:t,payload:r,label:a}=e;if(t&&r&&r.length){let e=r[0].payload;return(0,n.jsxs)("div",{className:"bg-background border rounded-lg p-3 shadow-lg",children:[(0,n.jsx)("h4",{className:"font-semibold mb-2",children:e.fullName}),(0,n.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsx)("span",{children:"実現可能性:"}),(0,n.jsxs)("span",{className:"font-bold",children:[e.score,"%"]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsx)("span",{children:"カテゴリ:"}),(0,n.jsx)(m.C,{variant:"outline",children:e.category})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,n.jsx)("span",{children:"影響度:"}),(0,n.jsx)(m.C,{variant:"high"===e.impact?"default":"secondary",children:"high"===e.impact?"高":"medium"===e.impact?"中":"低"})]})]})]})}return null},{})}),(0,n.jsx)(o.$,{dataKey:"score",radius:[4,4,0,0],children:p.map((e,t)=>(0,n.jsx)(u.b,{fill:g(e.score)},"cell-".concat(t)))})]})}),(0,n.jsxs)("div",{className:"mt-6 grid grid-cols-3 gap-4 text-center",children:[(0,n.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,n.jsxs)("div",{className:"text-lg font-bold text-primary",children:[Math.round(p.reduce((e,t)=>e+t.score,0)/p.length),"%"]}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"平均スコア"})]}),(0,n.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,n.jsxs)("div",{className:"text-lg font-bold text-green-600",children:[Math.max(...p.map(e=>e.score)),"%"]}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"最高スコア"})]}),(0,n.jsxs)("div",{className:"p-3 bg-muted rounded-lg",children:[(0,n.jsxs)("div",{className:"text-lg font-bold text-red-600",children:[Math.min(...p.map(e=>e.score)),"%"]}),(0,n.jsx)("div",{className:"text-xs text-muted-foreground",children:"最低スコア"})]})]})]})]})}},95937:function(e,t,r){r.d(t,{X:function(){return c},bZ:function(){return d}});var n=r(57437),a=r(2265),i=r(90535),s=r(93448);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,...i}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,s.cn)(l({variant:a}),r),...i})});d.displayName="Alert",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h5",{ref:t,className:(0,s.cn)("mb-1 font-medium leading-none tracking-tight",r),...a})}).displayName="AlertTitle";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,s.cn)("text-sm [&_p]:leading-relaxed",r),...a})});c.displayName="AlertDescription"},69174:function(e,t,r){r.d(t,{C:function(){return l}});var n=r(57437);r(2265);var a=r(90535),i=r(93448);let s=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",warning:"border-transparent bg-warning text-warning-foreground hover:bg-warning/80"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,n.jsx)("div",{className:(0,i.cn)(s({variant:r}),t),...a})}},79820:function(e,t,r){r.d(t,{Ol:function(){return l},Zb:function(){return s},aY:function(){return c},ll:function(){return d}});var n=r(57437),a=r(2265),i=r(93448);let s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});s.displayName="Card";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});l.displayName="CardHeader";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});d.displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},17168:function(e,t,r){r.d(t,{SP:function(){return c},dr:function(){return d},mQ:function(){return l},nU:function(){return o}});var n=r(57437),a=r(2265),i=r(20271),s=r(93448);let l=i.fC,d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.aV,{ref:t,className:(0,s.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),...a})});d.displayName=i.aV.displayName;let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.xz,{ref:t,className:(0,s.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",r),...a})});c.displayName=i.xz.displayName;let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(i.VY,{ref:t,className:(0,s.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...a})});o.displayName=i.VY.displayName},60532:function(e,t,r){r.d(t,{I8:function(){return d},db:function(){return c}});var n=r(738),a=r(43301),i=r(5978),s=r(60062);let l=0===(0,n.C6)().length?(0,n.ZF)({apiKey:"AIzaSyBpVZv9w5HHqvzRkJdKVV3hL4H5N5pY8Zc",authDomain:"political-site-583aa.firebaseapp.com",projectId:"political-site-583aa",storageBucket:"political-site-583aa.appspot.com",messagingSenderId:"591083571018",appId:"1:591083571018:web:8b3d2c1e0f4a5b6c7d8e9f"}):(0,n.C6)()[0],d=(0,a.v0)(l),c=(0,i.ad)(l);(0,s.cF)(l)},73634:function(e,t,r){r.d(t,{Fw:function(){return i},Gb:function(){return o},Ir:function(){return d},RF:function(){return s},li:function(){return l},xG:function(){return c}});var n=r(5978),a=r(60532);let i=async e=>{let t=(0,n.IO)((0,n.hJ)(a.db,"candidates"),(0,n.Xo)("updatedAt","desc")),r=[(0,n.Xo)("updatedAt","desc")];(null==e?void 0:e.prefecture)&&r.push((0,n.ar)("prefecture","==",e.prefecture)),(null==e?void 0:e.electionType)&&r.push((0,n.ar)("electionType","==",e.electionType)),(null==e?void 0:e.party)&&e.party.length>0&&r.push((0,n.ar)("party","in",e.party)),(null==e?void 0:e.status)&&e.status.length>0&&r.push((0,n.ar)("status","in",e.status)),t=(0,n.IO)((0,n.hJ)(a.db,"candidates"),...r);let i=await (0,n.PL)(t),s=[];for(let e of i.docs){let t={id:e.id,...e.data()},r=(0,n.IO)((0,n.hJ)(a.db,"candidates",e.id,"policies"),(0,n.Xo)("analyzedAt","desc")),i=(await (0,n.PL)(r)).docs.map(e=>({id:e.id,...e.data()}));t.policies=i,s.push(t)}return s},s=async e=>{let t=await (0,n.QT)((0,n.JU)(a.db,"candidates",e));if(!t.exists())return null;let r={id:t.id,...t.data()},i=(0,n.IO)((0,n.hJ)(a.db,"candidates",e,"policies"),(0,n.Xo)("analyzedAt","desc")),s=(await (0,n.PL)(i)).docs.map(e=>({id:e.id,...e.data()}));return r.policies=s,r},l=(e,t,r)=>{let i=(0,n.IO)((0,n.hJ)(a.db,"comments"),(0,n.ar)("candidateId","==",e),(0,n.ar)("status","==","active"),(0,n.Xo)("createdAt","desc"),(0,n.b9)(50));return r&&(i=(0,n.IO)((0,n.hJ)(a.db,"comments"),(0,n.ar)("candidateId","==",e),(0,n.ar)("policyId","==",r),(0,n.ar)("status","==","active"),(0,n.Xo)("createdAt","desc"),(0,n.b9)(50))),(0,n.cf)(i,e=>{t(e.docs.map(e=>({id:e.id,...e.data()})))})},d=async e=>(await (0,n.ET)((0,n.hJ)(a.db,"comments"),{...e,likes:0,likedBy:[],status:"active",createdAt:(0,n.Bt)()})).id,c=async(e,t)=>{let r=(0,n.JU)(a.db,"comments",e),i=await (0,n.QT)(r);if(i.exists()){let e=i.data(),a=e.likedBy||[];a.includes(t)||await (0,n.r7)(r,{likes:(e.likes||0)+1,likedBy:[...a,t]})}},o=async(e,t)=>{let r=(0,n.JU)(a.db,"comments",e),i=await (0,n.QT)(r);if(i.exists()){let e=i.data(),a=e.likedBy||[];a.includes(t)&&await (0,n.r7)(r,{likes:Math.max((e.likes||0)-1,0),likedBy:a.filter(e=>e!==t)})}}},66116:function(e,t,r){r.d(t,{Vy:function(){return i},vG:function(){return s}});var n=r(4415),a=r(73634);function i(e){let t=e&&"enabled"in e?e.filters:e,r=!e||!("enabled"in e)||e.enabled;return(0,n.a)({queryKey:["candidates",t],queryFn:()=>(0,a.Fw)(t),enabled:r,staleTime:3e5,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)})}function s(e){return(0,n.a)({queryKey:["candidate",e],queryFn:()=>(0,a.RF)(e),enabled:!!e,staleTime:3e5,retry:3})}},93448:function(e,t,r){r.d(t,{L_:function(){return c},Ml:function(){return u},Qm:function(){return d},SY:function(){return l},cn:function(){return i},p6:function(){return s},rp:function(){return o}});var n=r(61994),a=r(53335);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}function s(e){return new Intl.DateTimeFormat("ja-JP",{year:"numeric",month:"long",day:"numeric"}).format(e)}function l(e){let t=Math.floor((new Date().getTime()-e.getTime())/1e3);return t<60?"".concat(t,"秒前"):t<3600?"".concat(Math.floor(t/60),"分前"):t<86400?"".concat(Math.floor(t/3600),"時間前"):"".concat(Math.floor(t/86400),"日前")}function d(e){return e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2)}function c(e){return 0===e.length?0:Math.round(e.reduce((e,t)=>e+t.feasibilityScore,0)/e.length)}function o(e){switch(e){case"incumbent":return"現職";case"newcomer":return"新人";case"former":return"元職";default:return"未設定"}}function u(e){switch(e){case"technical":return"技術的実現性";case"political":return"政治的実現性";case"financial":return"財政的実現性";case"timeline":return"実施期間";default:return e}}}}]);