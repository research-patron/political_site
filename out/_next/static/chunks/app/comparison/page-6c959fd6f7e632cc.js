(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{37026:function(e,s,t){Promise.resolve().then(t.bind(t,81523)),Promise.resolve().then(t.bind(t,70049)),Promise.resolve().then(t.bind(t,25150))},95805:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});let l=(0,t(79205).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},25150:function(e,s,t){"use strict";t.r(s),t.d(s,{ComparisonPageClient:function(){return b}});var l=t(57437),r=t(2265),a=t(79820),n=t(69174),i=t(17168),c=t(15291),d=t(68245),o=t(95937),u=t(46221),m=t(95805),f=t(90740);let x=(0,t(79205).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var h=t(66116),p=t(97398),j=t(45446),g=t(79270),v=t(93448);function b(){let[e,s]=(0,r.useState)(!1),[t,b]=(0,r.useState)([]),[N,y]=(0,r.useState)("all"),[w,k]=(0,r.useState)("all"),{data:C=[],isLoading:R}=(0,h.Vy)({enabled:e});(0,r.useEffect)(()=>{s(!0)},[]);let Z=e=>{b(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])};if(!e||R)return(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,l.jsx)(u.Z,{className:"h-8 w-8 text-primary"}),(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"候補者・政策比較"})]}),(0,l.jsxs)("div",{className:"text-center py-12",children:[(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),(0,l.jsx)("p",{className:"mt-4 text-muted-foreground",children:"データを読み込み中..."})]})]});let _=C.filter(e=>t.includes(e.id)).flatMap(e=>e.policies||[]).filter(e=>("all"===N||e.category===N)&&("all"===w||e.impact===w)),P=C.filter(e=>t.includes(e.id)).map(e=>{var s,t;return{candidate:e,avgFeasibility:(0,v.L_)(e.policies||[]),policyCount:(null===(s=e.policies)||void 0===s?void 0:s.length)||0,highImpactPolicies:(null===(t=e.policies)||void 0===t?void 0:t.filter(e=>"high"===e.impact).length)||0}});return(0,l.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,l.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,l.jsx)(u.Z,{className:"h-8 w-8 text-primary"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"候補者・政策比較"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"複数の候補者の政策を比較分析します"})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,l.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsxs)(a.ll,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(m.Z,{className:"h-5 w-5"}),"候補者選択"]})}),(0,l.jsx)(a.aY,{className:"space-y-3",children:C.map(e=>{var s;return(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)(d.X,{id:e.id,checked:t.includes(e.id),onCheckedChange:()=>Z(e.id)}),(0,l.jsx)("label",{htmlFor:e.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:e.name}),(0,l.jsx)(n.C,{variant:"outline",className:"text-xs",children:(null===(s=e.policies)||void 0===s?void 0:s.length)||0})]},e.id)})})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsxs)(a.ll,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(f.Z,{className:"h-5 w-5"}),"フィルター"]})}),(0,l.jsxs)(a.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"カテゴリ"}),(0,l.jsxs)(c.Ph,{value:N,onValueChange:y,children:[(0,l.jsx)(c.i4,{children:(0,l.jsx)(c.ki,{})}),(0,l.jsx)(c.Bw,{children:["all","経済政策","社会保障","教育","環境","外交・安全保障","その他"].map(e=>(0,l.jsx)(c.Ql,{value:e,children:"all"===e?"すべて":e},e))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"text-sm font-medium mb-2 block",children:"影響度"}),(0,l.jsxs)(c.Ph,{value:w,onValueChange:k,children:[(0,l.jsx)(c.i4,{children:(0,l.jsx)(c.ki,{})}),(0,l.jsx)(c.Bw,{children:["all","high","medium","low"].map(e=>(0,l.jsx)(c.Ql,{value:e,children:"all"===e?"すべて":"high"===e?"高影響":"medium"===e?"中影響":"低影響"},e))})]})]})]})]}),(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsxs)(a.ll,{className:"text-lg flex items-center gap-2",children:[(0,l.jsx)(x,{className:"h-5 w-5"}),"統計"]})}),(0,l.jsxs)(a.aY,{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"選択候補者"}),(0,l.jsxs)("span",{className:"font-semibold",children:[t.length,"人"]})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"比較政策数"}),(0,l.jsxs)("span",{className:"font-semibold",children:[_.length,"件"]})]}),_.length>0&&(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"平均スコア"}),(0,l.jsxs)("span",{className:"font-semibold",children:[Math.round(_.reduce((e,s)=>e+s.feasibilityScore,0)/_.length),"%"]})]})]})]})]}),(0,l.jsx)("div",{className:"lg:col-span-3",children:0===t.length?(0,l.jsx)(o.bZ,{children:(0,l.jsx)(o.X,{children:"比較を開始するには、左側のパネルから候補者を選択してください。"})}):(0,l.jsxs)(i.mQ,{defaultValue:"overview",className:"w-full",children:[(0,l.jsxs)(i.dr,{className:"grid w-full grid-cols-3",children:[(0,l.jsx)(i.SP,{value:"overview",children:"概要"}),(0,l.jsx)(i.SP,{value:"policies",children:"政策比較"}),(0,l.jsx)(i.SP,{value:"details",children:"詳細分析"})]}),(0,l.jsx)(i.nU,{value:"overview",className:"space-y-6",children:(0,l.jsxs)(a.Zb,{children:[(0,l.jsx)(a.Ol,{children:(0,l.jsx)(a.ll,{children:"候補者概要"})}),(0,l.jsx)(a.aY,{children:(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:P.map(e=>{let{candidate:s,avgFeasibility:t,policyCount:r,highImpactPolicies:a}=e;return(0,l.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:s.name}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:"平均スコア"}),(0,l.jsx)(g.$,{score:t,size:"sm"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"公約数"}),(0,l.jsxs)("span",{className:"font-medium",children:[r,"件"]})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"高影響政策"}),(0,l.jsxs)("span",{className:"font-medium",children:[a,"件"]})]})]})]},s.id)})})})]})}),(0,l.jsx)(i.nU,{value:"policies",className:"space-y-6",children:_.length>0?(0,l.jsx)(p.PolicyComparisonChart,{policies:_,title:"政策実現可能性比較"}):(0,l.jsx)(o.bZ,{children:(0,l.jsx)(o.X,{children:"選択した条件に該当する政策がありません。フィルター設定を変更してください。"})})}),(0,l.jsx)(i.nU,{value:"details",className:"space-y-6",children:_.length>0?(0,l.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:_.slice(0,4).map(e=>(0,l.jsx)(j.x,{policy:e},e.id))}):(0,l.jsx)(o.bZ,{children:(0,l.jsx)(o.X,{children:"詳細分析を表示するには政策を選択してください。"})})})]})})]})]})}},68245:function(e,s,t){"use strict";t.d(s,{X:function(){return c}});var l=t(57437),r=t(2265),a=t(9270),n=t(30401),i=t(93448);let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(a.fC,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...r,children:(0,l.jsx)(a.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})})})});c.displayName=a.fC.displayName},15291:function(e,s,t){"use strict";t.d(s,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return p},i4:function(){return m},ki:function(){return u}});var l=t(57437),r=t(2265),a=t(33911),n=t(40875),i=t(22135),c=t(30401),d=t(93448);let o=a.fC;a.ZA;let u=a.B4,m=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,l.jsxs)(a.xz,{ref:s,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[r,(0,l.jsx)(a.JO,{asChild:!0,children:(0,l.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=a.xz.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(a.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,l.jsx)(i.Z,{className:"h-4 w-4"})})});f.displayName=a.u_.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(a.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,l.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=a.$G.displayName;let h=r.forwardRef((e,s)=>{let{className:t,children:r,position:n="popper",...i}=e;return(0,l.jsx)(a.h_,{children:(0,l.jsxs)(a.VY,{ref:s,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,l.jsx)(f,{}),(0,l.jsx)(a.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,l.jsx)(x,{})]})})});h.displayName=a.VY.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(a.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=a.__.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,l.jsxs)(a.ck,{ref:s,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,l.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(a.wU,{children:(0,l.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,l.jsx)(a.eT,{children:r})]})});p.displayName=a.ck.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,l.jsx)(a.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=a.Z0.displayName},1353:function(e,s,t){"use strict";t.d(s,{Pc:function(){return N},ck:function(){return S},fC:function(){return F}});var l=t(2265),r=t(6741),a=t(58068),n=t(98575),i=t(73966),c=t(99255),d=t(66840),o=t(26606),u=t(80886),m=t(29114),f=t(57437),x="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[j,g,v]=(0,a.B)(p),[b,N]=(0,i.b)(p,[v]),[y,w]=b(p),k=l.forwardRef((e,s)=>(0,f.jsx)(j.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(j.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,f.jsx)(C,{...e,ref:s})})}));k.displayName=p;var C=l.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:t,orientation:a,loop:i=!1,dir:c,currentTabStopId:j,defaultCurrentTabStopId:v,onCurrentTabStopIdChange:b,onEntryFocus:N,preventScrollOnEntryFocus:w=!1,...k}=e,C=l.useRef(null),R=(0,n.e)(s,C),Z=(0,m.gm)(c),[_,F]=(0,u.T)({prop:j,defaultProp:null!=v?v:null,onChange:b,caller:p}),[S,M]=l.useState(!1),A=(0,o.W)(N),E=g(t),I=l.useRef(!1),[T,D]=l.useState(0);return l.useEffect(()=>{let e=C.current;if(e)return e.addEventListener(x,A),()=>e.removeEventListener(x,A)},[A]),(0,f.jsx)(y,{scope:t,orientation:a,dir:Z,loop:i,currentTabStopId:_,onItemFocus:l.useCallback(e=>F(e),[F]),onItemShiftTab:l.useCallback(()=>M(!0),[]),onFocusableItemAdd:l.useCallback(()=>D(e=>e+1),[]),onFocusableItemRemove:l.useCallback(()=>D(e=>e-1),[]),children:(0,f.jsx)(d.WV.div,{tabIndex:S||0===T?-1:0,"data-orientation":a,...k,ref:R,style:{outline:"none",...e.style},onMouseDown:(0,r.M)(e.onMouseDown,()=>{I.current=!0}),onFocus:(0,r.M)(e.onFocus,e=>{let s=!I.current;if(e.target===e.currentTarget&&s&&!S){let s=new CustomEvent(x,h);if(e.currentTarget.dispatchEvent(s),!s.defaultPrevented){let e=E().filter(e=>e.focusable);P([e.find(e=>e.active),e.find(e=>e.id===_),...e].filter(Boolean).map(e=>e.ref.current),w)}}I.current=!1}),onBlur:(0,r.M)(e.onBlur,()=>M(!1))})})}),R="RovingFocusGroupItem",Z=l.forwardRef((e,s)=>{let{__scopeRovingFocusGroup:t,focusable:a=!0,active:n=!1,tabStopId:i,children:o,...u}=e,m=(0,c.M)(),x=i||m,h=w(R,t),p=h.currentTabStopId===x,v=g(t),{onFocusableItemAdd:b,onFocusableItemRemove:N,currentTabStopId:y}=h;return l.useEffect(()=>{if(a)return b(),()=>N()},[a,b,N]),(0,f.jsx)(j.ItemSlot,{scope:t,id:x,focusable:a,active:n,children:(0,f.jsx)(d.WV.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...u,ref:s,onMouseDown:(0,r.M)(e.onMouseDown,e=>{a?h.onItemFocus(x):e.preventDefault()}),onFocus:(0,r.M)(e.onFocus,()=>h.onItemFocus(x)),onKeyDown:(0,r.M)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){h.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let s=function(e,s,t){var l;let r=(l=e.key,"rtl"!==t?l:"ArrowLeft"===l?"ArrowRight":"ArrowRight"===l?"ArrowLeft":l);if(!("vertical"===s&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===s&&["ArrowUp","ArrowDown"].includes(r)))return _[r]}(e,h.orientation,h.dir);if(void 0!==s){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=v().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===s)r.reverse();else if("prev"===s||"next"===s){var t,l;"prev"===s&&r.reverse();let a=r.indexOf(e.currentTarget);r=h.loop?(t=r,l=a+1,t.map((e,s)=>t[(l+s)%t.length])):r.slice(a+1)}setTimeout(()=>P(r))}}),children:"function"==typeof o?o({isCurrentTabStop:p,hasTabStop:null!=y}):o})})});Z.displayName=R;var _={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function P(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=document.activeElement;for(let l of e)if(l===t||(l.focus({preventScroll:s}),document.activeElement!==t))return}var F=k,S=Z}},function(e){e.O(0,[358,139,138,634,447,637,823,607,726,971,117,744],function(){return e(e.s=37026)}),_N_E=e.O()}]);